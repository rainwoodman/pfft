<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation and linking &mdash; PFFT 1.0.8 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="PFFT 1.0.8 documentation" href="index.html" />
    <link rel="next" title="Advanced Features" href="features.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="features.html" title="Advanced Features"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">PFFT 1.0.8 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p>[2]ifpackageloaded#1#2 [2]ifpackageloaded#1#2 [3]ifpackageloaded#1#2#3</p>
<p>#1</p>
<div class="section" id="installation-and-linking">
<h1>Installation and linking<a class="headerlink" href="#installation-and-linking" title="Permalink to this headline">¶</a></h1>
<p>The install of PFFT is based on the Autotools and follows the typical
workflow</p>
<div class="highlight-python"><div class="highlight"><pre>./configure
make
make install
</pre></div>
</div>
<div class="section" id="install-of-the-latest-official-fftw-release">
<h2>Install of the latest official FFTW release<a class="headerlink" href="#install-of-the-latest-official-fftw-release" title="Permalink to this headline">¶</a></h2>
<p>PFFT depends on Release&nbsp;3.3.3 of the FFTW library&nbsp;. For the sake of
completeness, we show the command line based install procedure in the
following. However, note that we provide install scripts on
<a href="#id1"><span class="problematic" id="id2">`</span></a>{www.tu-chemnitz.de/~mpip}/software.php &lt;{www.tu-chemnitz.de/~mpip}/software.php&gt;`__that
simplify the install a lot. We highly recommend to use these install
scripts, since they additionally apply several performance patches and
bugfixes that have been submitted to the FFTW developers but are not yet
included in the official FFTW releases.</p>
<div class="highlight-python"><div class="highlight"><pre>wget http://www.fftw.org/fftw-§\fftwversionsl§.tar.gz
tar xzvf fftw-§\fftwversion§.tar.gz
cd fftw-§\fftwversion§
./configure --enable-mpi --prefix=$HOME/local/fftw3_mpi §\label{lst:fftw:conf}§
make
make install
</pre></div>
</div>
<p>The MPI algorithms of FFTW must be build with a MPI C compiler. Add the
statement <code class="docutils literal"><span class="pre">MPICC=\$MPICCOMP</span></code> at the end of line&nbsp;[lst:fftw:conf] if the
<code class="docutils literal"><span class="pre">configure</span></code> script fails to determine the right MPI C compiler
<code class="docutils literal"><span class="pre">\$MPICCOMP</span></code>. Similarly, the MPI Fortran compiler <code class="docutils literal"><span class="pre">\$MPIFCOMP</span></code> is
set by <code class="docutils literal"><span class="pre">MPIFC=\$MPIFCOMP</span></code>.</p>
</div>
<div class="section" id="install-of-the-pfft-library">
<h2>Install of the PFFT library<a class="headerlink" href="#install-of-the-pfft-library" title="Permalink to this headline">¶</a></h2>
<p>In the simplest case, the hardware platform and the -3.3.3 library are
recognized by the PFFT configure script automatically, so all we have to
do is</p>
<div class="highlight-python"><div class="highlight"><pre>wget http://www.tu-chemnitz.de/~mpip/software/pfft-§\pfftversionsl§.tar.gz
tar xzvf pfft-§\pfftversion§.tar.gz
cd pfft-§\pfftversion§
./configure
make
make check
make install
</pre></div>
</div>
<p>Hereby, the optional call <code class="docutils literal"><span class="pre">make</span> <span class="pre">check</span></code> builds the test programs. If
the -3.3.3 software library is already installed on your system but not
found by the configure script, you can provide the FFTW installation
directory <code class="docutils literal"><span class="pre">\$FFTWDIR</span></code> to configure by</p>
<div class="code bash highlight-python"><div class="highlight"><pre>./configure --with-fftw3=$FFTWDIR
</pre></div>
</div>
<p>This call implies that the FFTW header files are located in
<code class="docutils literal"><span class="pre">\$FFTWDIR/include</span></code> and the FFTW library files are located in
<code class="docutils literal"><span class="pre">\$FFTWDIR/lib</span></code>. Otherwise, one should specify the FFTW include path
<code class="docutils literal"><span class="pre">\$FFTWINC</span></code> and the FFTW library path <code class="docutils literal"><span class="pre">\$FFTWLIB</span></code> separately by</p>
<div class="highlight-python"><div class="highlight"><pre>./configure --with-fftw3-includedir=$FFTWINC --with-fftw3-libdir=$FFTWLIB
</pre></div>
</div>
<p>At the end, this is equivalent to</p>
<div class="highlight-python"><div class="highlight"><pre>./configure CPPFLAGS=-I$FFTWINC LDFLAGS=-L$FFTWLIB
</pre></div>
</div>
<p>which is more common to experienced users of the Autotools. To install
PFFT in a user specified directory <code class="docutils literal"><span class="pre">\$PFFTINSTDIR</span></code> call configure with
the option</p>
<div class="highlight-python"><div class="highlight"><pre>./configure --prefix=$PFFTINSTDIR
</pre></div>
</div>
<p>However, this option is mandatory whenever you do not have root
permissions on your machine, since the default install paths of
<code class="docutils literal"><span class="pre">configure</span></code> are not accessible by standard users. The PFFT library
must be built with a MPI compiler. In Section&nbsp;[sec:fftw<sub>i</sub>nst]
we already described how to hand the right compilers to the
<code class="docutils literal"><span class="pre">configure</span></code> script. Some more options are</p>
<p>:code:`[`keywords=]–enable-float: Produces a single-precision version
of PFFT (float) instead of the default double-precision (double); see
[sec:prec].</p>
<p>:code:`[`keywords=]–enable-long-double: Produces a long-double
precision version of PFFT (long double) instead of the default
double-precision (double); see [sec:prec].</p>
<p><code class="docutils literal"><span class="pre">--disable-fortran</span></code>: Disables inclusion of Fortran wrapper routines in
the standard PFFT libraries.</p>
<p><code class="docutils literal"><span class="pre">--disable-tests</span></code>: Disables build of test programs.</p>
<p>For more details on the options of the <code class="docutils literal"><span class="pre">configure</span></code> script call</p>
<div class="highlight-python"><div class="highlight"><pre>./configure --help
</pre></div>
</div>
</div>
<div class="section" id="how-to-include-pfft-in-your-program">
<h2>How to include PFFT in your program<a class="headerlink" href="#how-to-include-pfft-in-your-program" title="Permalink to this headline">¶</a></h2>
<p>All programs using PFFT should include its header file</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#include &lt;pfft.h&gt;</span>
</pre></div>
</div>
<p>This header includes the FFTW headers <code class="docutils literal"><span class="pre">fftw.h</span></code>, <code class="docutils literal"><span class="pre">fftw-mpi.h</span></code>
automatically. Make sure that the compiler can find them by setting the
include flags appropriately. You must also link to the PFFT, FFTW and
FFTW-MPI libraries. On Unix, this means adding
<code class="docutils literal"><span class="pre">-lpfft</span> <span class="pre">-lfftw3_mpi</span> <span class="pre">-lfftw3</span> <span class="pre">-lm</span></code> at the end of the link command. For
example, to build <code class="docutils literal"><span class="pre">pfft_test.c</span></code> use the following compiler invocation</p>
<div class="highlight-python"><div class="highlight"><pre>mpicc pfft_test.c -I$PFFTINC -I$FFTWINC -L$PFFTLIB -L$FFTWLIB -lpfft -lfftw3_mpi -lfftw3 -lm
</pre></div>
</div>
<p>Substitute <code class="docutils literal"><span class="pre">mpicc</span></code> by any other MPI C compiler if you like.
<code class="docutils literal"><span class="pre">\$PFFTINC</span></code>, <code class="docutils literal"><span class="pre">\$FFTWINC</span></code>, <code class="docutils literal"><span class="pre">\$PFFTLIB</span></code>, and <code class="docutils literal"><span class="pre">\$FFTWLIB</span></code> denote
the PFFT and FFTW include and library paths, respectively. If you use
the install scripts mentioned in Sect.&nbsp;[sec:pfft-inst], these paths will
be</p>
<div class="highlight-python"><div class="highlight"><pre>PFFTINC = $HOME/local/pfft-§\pfftversion§/include
FFTWINC = $HOME/local/fftw-§\fftwversion§/include
PFFTINC = $HOME/local/pfft-§\pfftversion§/lib
FFTWINC = $HOME/local/fftw-§\fftwversion§/lib
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation and linking</a><ul>
<li><a class="reference internal" href="#install-of-the-latest-official-fftw-release">Install of the latest official FFTW release</a></li>
<li><a class="reference internal" href="#install-of-the-pfft-library">Install of the PFFT library</a></li>
<li><a class="reference internal" href="#how-to-include-pfft-in-your-program">How to include PFFT in your program</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial.html"
                        title="previous chapter">Tutorial</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="features.html"
                        title="next chapter">Advanced Features</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/install.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="features.html" title="Advanced Features"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">PFFT 1.0.8 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Michael Pippig.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>